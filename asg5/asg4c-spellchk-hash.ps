%!PS-Adobe-3.0
%%Creator: groff version 1.22.2
%%CreationDate: Fri Feb  5 15:11:44 2016
%%Title: asg4c-spellchk-hash.ps
%%BoundingBox: 0 0 612 792
%%DocumentNeededResources: font Courier
%%+ font Courier-Bold
%%+ font NewCenturySchlbk-Bold
%%+ font NewCenturySchlbk-Roman
%%+ font NewCenturySchlbk-Italic
%%+ font Times-Roman
%%+ font Symbol
%%+ font NewCenturySchlbk-BoldItalic
%%DocumentSuppliedResources: procset grops 1.22 2
%%+ font Courier-Elite-Bold
%%+ font Courier-Elite
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 2
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Courier
%%IncludeResource: font Courier-Bold
%%IncludeResource: font NewCenturySchlbk-Bold
%%IncludeResource: font NewCenturySchlbk-Roman
%%IncludeResource: font NewCenturySchlbk-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Symbol
%%IncludeResource: font NewCenturySchlbk-BoldItalic
%%BeginResource: font Courier-Elite-Bold
%%DocumentNeededResources: font Courier-Bold
/MakeTransformedFont{
findfont dup maxlength dict begin
{
exch dup dup/FID ne exch/UniqueID ne and{
exch def
}{
pop pop
}ifelse
}forall
/FontBBox
currentdict/FontBBox get
4 array copy def
FontBBox aload pop
4 index transform 4 2 roll
4 index transform 4 2 roll
FontBBox astore pop
FontMatrix exch matrix concatmatrix
/FontMatrix exch def
dup/FontName exch def
currentdict end
definefont pop
}bind def
/Courier-Elite-Bold
[ .833333333 0 0 1 0 0 ]
/Courier-Bold
MakeTransformedFont
%%EndResource
%%BeginResource: font Courier-Elite
%%DocumentNeededResources: font Courier
/MakeTransformedFont{
findfont dup maxlength dict begin
{
exch dup dup/FID ne exch/UniqueID ne and{
exch def
}{
pop pop
}ifelse
}forall
/FontBBox
currentdict/FontBBox get
4 array copy def
FontBBox aload pop
4 index transform 4 2 roll
4 index transform 4 2 roll
FontBBox astore pop
FontMatrix exch matrix concatmatrix
/FontMatrix exch def
dup/FontName exch def
currentdict end
definefont pop
}bind def
/Courier-Elite
[ .833333333 0 0 1 0 0 ]
/Courier
MakeTransformedFont
%%EndResource
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/NewCenturySchlbk-BoldItalic@0 ENC0/NewCenturySchlbk-BoldItalic RE
/Times-Roman@0 ENC0/Times-Roman RE/NewCenturySchlbk-Italic@0 ENC0
/NewCenturySchlbk-Italic RE/Courier-Elite-Bold@0 ENC0/Courier-Elite-Bold
RE/Courier-Elite@0 ENC0/Courier-Elite RE/NewCenturySchlbk-Roman@0 ENC0
/NewCenturySchlbk-Roman RE/NewCenturySchlbk-Bold@0 ENC0
/NewCenturySchlbk-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(1o)8.076 G 3.336(f6)-3.336 G/F2 11
/Courier-Elite@0 SF
($Id: asg4c-spellchk-hash.mm,v 1.78 2016-02-05 15:11:44-08 - - $)72 67 Q
(PWD: /afs/cats.ucsc.edu/courses/cmps012b-wm/Assignments/asg5c-spellchk\
-hash)72 80 Q(URL: http://www2.ucsc.edu/courses/cmps012b-wm/:/Assignmen\
ts/asg5c-spellchk-hash/)72 93 Q F0 3.444(1. Overview)72 117 R F1 .8
(In this assignment you will implement a spelling c)72 137 R(hec)-.084 E
.799(ker that uses a hash table to)-.084 F 4.471
(look up words in a dictionary)72 151 R 11.143(.C)-1.5 G 4.471
(ollision resolution will be done by separate)-11.143 F -.084(ch)72 165
S(aining).084 E 7.65(.A)-.3 G .977(scanner generated by)-3.336 F/F3 12
/Courier-Elite-Bold@0 SF(flex)4.313 E F1 .977
(will be used to extract words form the \214les)4.313 F(to be c)72 179 Q
(hec)-.084 E(ked.)-.084 E 406.128 196 205.872 196 DL/F4 12
/NewCenturySchlbk-Italic@0 SF(Eye halve a spelling c)211.872 213 Q
(hequer)-.216 E(.)-1.5 E(It came with my pea sea.)211.872 227 Q
(It plainl)211.872 241 Q 3.336(ym)-.12 G(arques f)-3.336 E(our my revue)
-.12 E(Miss steaks eye kin knot sea.)211.872 255 Q
(Eye strike a quay and type a word)211.872 275 Q(And weight f)211.872
289 Q(our it two say)-.12 E -.66(We)211.872 303 S
(ather eye am wrong oar rite).66 E(.)-.444 E
(It shows me strait a weigh.)211.872 317 Q(As soon as a mist ac)211.872
337 Q(he is maid)-.216 E(It nose bee f)211.872 351 Q(ore two long)-.12 E
(.)-.6 E(And eye can put the error rite)211.872 365 Q
(Its rare lea ever wrong)211.872 379 Q(.)-.6 E
(Eye have run this poem threw it.)211.872 399 Q
(Eye am shore your pleased two no)211.872 413 Q(.)-.6 E
(Its letter perfect all the weigh)211.872 427 Q(My c)211.872 441 Q
(hequer tolled me sew)-.216 E(.)-.9 E 406.128 448.8 205.872 448.8 DL
406.128 196 406.128 448.8 DL 205.872 196 205.872 448.8 DL F0 -.216(Fi)
221.868 463.8 S(gure 1.).216 E/F5 12/Times-Roman@0 SF -.84(Te)6.888 G
(st \214le for).84 E F3(spellchk)3 E F0 3.444(2. Program)72 509.8 R
(speci\214cation)3.444 E F1 1.44 -.72(We p)72 529.8 T
(resent the program in the form of a Unix).72 E F3(man)3.336 E F1
(\(1\) page)A(.)-.216 E F0(NAME)72 549.8 Q F1(spellc)102 563.8 Q
(hk \212 spell c)-.084 E(hec)-.084 E 3.336(ks)-.084 G
(ome \214les based on dictionary words)-3.336 E F0(SYNOPSIS)72 583.8 Q
F3(spellchk)102 597.8 Q F1([)5.336 E F3(-nxy)A F1 5.336(][)C F3(-d)
-5.336 E F4(dictionary)3.336 E F1 5.336(][)C F3(-@)-5.336 E F4
(debug\215ags)3.336 E F1 5.336(][)C F4(\214lename)-3.92 E F1 2(...)2 G
(])-2 E F0(DESCRIPTION)72 617.8 Q F1 .183
(This program examines \214les for correct spell c)102 631.8 R(hec)-.084
E(king)-.084 E 6.855(.S)-.3 G .184(ome number of dictio-)-6.855 F 1.676
(naries are read in, inc)102 645.8 R 1.676
(luding the default dictionary)-.084 F 5.011(,p)-1.5 G 1.675
(lus any other auxiliary)-5.011 F(dictionaries)102 659.8 Q 9.239(.t)-.3
G 2.567(hen eac)-9.239 F 5.903<688c>-.084 G 2.567
(le is read, and a report of any incorrectly spelled)-5.903 F
(words is made)102 673.8 Q(.)-.216 E F0(OPTIONS)72 693.8 Q F1 1.635
(Options are scanned using)102 707.8 R F3(getopt)4.97 E F1 1.634
(\(3c\), and are subject to its restrictions and)B(conventions)102 721.8
Q 6.672(.I)-.3 G 3.336(ti)-6.672 G 3.336(sa)-3.336 G 3.336(ne)-3.336 G
(rror if no dictionaries are speci\214ed.)-3.336 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(2o)8.076 G 3.336(f6)-3.336 G/F2 12
/Courier-Elite-Bold@0 SF(-d)102 74 Q/F3 12/NewCenturySchlbk-Italic@0 SF
(dictionary)3.336 E F1 .441(The speci\214ed dictionary is loaded and us\
ed in addition to the default dic-)132 88 R(tionary)132 102 Q 6.672(.T)
-1.5 G(his is optional unless)-6.672 E F2(-n)3.336 E F1(is used.)3.336 E
F2(-n)102 122 Q F1 2.451(The default special dictionary is exc)18 F 2.45
(luded and only explicitly speci\214ed)-.084 F(dictionaries are used.)
132 136 Q F2(-x)102 156 Q F1 2.142
(Debug statistics about the hash table are dumped.)18 F 2.142(If the)
8.814 F F2(-x)5.478 E F1 2.142(option is)5.478 F 1.465
(given more than once)132 170 R 4.801(,t)-.216 G 1.465
(he entire hash table is dumped.)-4.801 F 1.465(The \214les to be)8.137
F(spell c)132 184 Q(hec)-.084 E
(ked are ignored if this option is speci\214ed.)-.084 E F2(-y)102 204 Q
F1(Turns on the scanner')18 E 3.336(sd)-.3 G(ebug \215ag)-3.336 E(.)-.3
E F2(-@)102 224 Q F3(debug\215ags)3.336 E F1 .868
(Turns on debugging \215ags for the)132 238 R F2(DEBUGF)4.204 E F1
(macro)4.204 E 7.54(.T)-.216 G .868(he option)-7.54 F F2(-@@)4.204 E F1
.868(turns on)4.204 F(all debug \215ags)132 252 Q(.)-.3 E F0(OPERANDS)72
272 Q F1(Eac)102 286 Q 4.892(ho)-.084 G 1.556
(perand is the name of \214le whose words are to be c)-4.892 F(hec)-.084
E 1.555(ked for spelling)-.084 F(errors)102 300 Q 7.371(.A)-.3 G .7
(word is any sequence of letters and digits)-3.336 F 4.036(,p)-.3 G .7
(ossibly with the c)-4.036 F(harac-)-.084 E .037(ters ampersand \()102
314 R F2(&)A F1 .037(\), apostrophe \()B F2(')A F1 .037(\), hyphen \()B
F2(-)A F1 .037(\), or period \()B F2(.)A F1 3.373(\)e)C .037
(mbedded with the)-3.373 F 3.357(word. If)102 328 R 3.358<618c>3.357 G
.022(lename is speci\214ed as a minus sign \()-3.358 F F2(-)A F1 .022
(\), it causes)B F2(stdin)3.358 E F1 .022(it be read at)3.358 F
(that point.)102 342 Q(If no \214lenames are speci\214ed,)6.672 E F2
(stdin)3.336 E F1(is spell c)3.336 E(hec)-.084 E(ked.)-.084 E F0
(EXIT ST)72 362 Q -.66(AT)-.66 G(US).66 E F1 23.328(0N)102 382 S 3.336
(oe)-23.328 G(rrors nor misspelled words were detected.)-3.336 E 23.328
(1O)102 402 S
(ne or more misspelled words were detected, but there were no errors)
-23.328 E(.)-.3 E 23.328(2O)102 422 S
(ne or more errors were detected and error messages were printed.)
-23.328 E F0(FILES)72 442 Q F2
(/afs/cats.ucsc.edu/courses/cmps012b-wm/usr/dict/words)102 462 Q F1
(Contains the default dictionary)132 476 Q(.)-1.5 E F0(BUGS)72 496 Q F1
.88(Standard spell-c)102 510 R(hec)-.084 E .88
(king algorithms for variations on words as to number and)-.084 F .181
(tense are not performed.)102 524 R .181(In any case)6.853 F 3.518(,p)
-.216 G .182(oems like the one in F)-3.518 F .182(igure 1 are likely)
-.12 F(to confuse most spelling c)102 538 Q(hec)-.084 E(kers)-.084 E(.)
-.3 E F0 3.444(3. Survey)72 564 R(of the code)3.444 E F1 .743
(Study the existing code)72 584 R 4.079(,w)-.216 G(hic)-4.079 E 4.079
(hi)-.084 G 4.079(sap)-4.079 G .743
(artial implementation of your program.)-4.079 F(There)7.415 E
(are several modules and other \214les)72 598 Q 3.336(,m)-.3 G
(ost with a separate)-3.336 E F2(.h)3.336 E F1(and)3.336 E F2(.c)3.336 E
F1(\214le)3.336 E(.)-.216 E 2.664(\(i\) The)84.228 618 R 2.267
(default dictionary really ought to be)5.602 F F2(/usr/share/dict/words)
5.603 E F1 5.603(,a)C 2.267(nd would)-5.603 F 1.311(actually be in a re\
al implementation, however it is very large on Linux, so a)102 632 R .87
(smaller dictionary w)102 646 R .87(as copied from a Solaris mac)-.216 F
(hine)-.084 E 7.543(.U)-.216 G .871(sing the smaller dic-)-7.543 F .107
(tionary will allow you to test your program without needing to use a v\
ery large)102 660 R(amount of memory)102 674 Q 3.336(,e)-1.5 G
(xpecially when debugging)-3.336 E 6.672(.S)-.3 G(ee the output of)
-6.672 E F2(wc)3.336 E F1 -1.336(\(1\) :)B F2 12(25143 25143)127.5 688 R
(206663 cmps012b-wm/usr/dict/words)12 E 6(479623 479623)121.5 702 R
(4950996 /usr/share/dict/words)6 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(3o)8.076 G 3.336(f6)-3.336 G(\(ii\))
80.448 74 Q/F2 12/Courier-Elite-Bold@0 SF(Makefile)6 E F1 1.97
(contains the usual building information.)5.306 F F2(Makefile.deps)8.643
E F1 1.971(is a gener)5.307 F(-)-.444 E .825(ated \214le whic)102 88 R
4.161(hl)-.084 G .825(ists the dependencies)-4.161 F 7.497(.I)-.3 G
4.161(tm)-7.497 G .825(ust be regenerated any time there)-4.161 F
(is a c)102 102 Q(hange to any)-.084 E F2(#include)3.336 E F1
(statement in your program.)3.336 E 2.664(\(iii\) The)76.668 122 R
(program)3.888 E F2(pspell.perl)3.888 E F1 .552
(is a reference implementation, but does)3.888 F .552(not contain)7.224
F(debug switc)102 136 Q(hes)-.084 E(.)-.3 E 2.664(\(iv\) The)77.784 156
R(module)4.253 E F2(debugf)4.253 E F1 .917
(contains some useful utility functions whic)4.253 F 4.252(ha)-.084 G
.916(re generally)-4.252 F(useful for debugging)102 170 Q 6.672(.S)-.3 G
(ee)-6.672 E F2(debugf.h)3.336 E F1(for a description of eac)3.336 E
3.336(hf)-.084 G(unction.)-3.336 E 2.664(\(v\) The)81.564 190 R(module)
5.294 E F2(hashset)5.294 E F1 1.958(will require the most work.)5.294 F
5.294(As)8.63 G 1.958(tub has been provided,)-5.294 F 1.984
(along with a hashing function)102 204 R F2(strhash)5.32 E F1 8.656(.Y)C
1.984(ou will need to add functions that)-9.856 F 1.775
(print out the required debugging and also replace the calls to)102 218
R F2(STUBPRINTF)5.111 E F1(or)5.111 E F2(DEBUGF)102 232 Q F1
(with working code)3.336 E(.)-.216 E 2.664(\(vi\) The)77.784 252 R
(\214le)4.776 E F2(scanner.l)4.776 E F1 1.44(contains a scanner whic)
4.776 F 4.776(hr)-.084 G 1.44(eads words from the \214les to be)-4.776 F
3.994(tested. Y)102 266 R .658
(ou need not understand exactly how this works)-1.2 F 3.994(,j)-.3 G
.659(ust how to call it to)-3.994 F 1.3(extract words)102 280 R 7.972
(.T)-.3 G 1.3(he \214le)-7.972 F F2(yyextern.h)4.636 E F1 1.3
(has de\214nitions of the \214les in the program)4.636 F
(generated by the scanner)102 294 Q 6.672(.S)-1.2 G(ee F)-6.672 E
(igure 2 for a description of the variables)-.12 E(.)-.3 E 2.664
(\(vii\) The)74.004 314 R 1.119(main program,)4.455 F F2(spellchk)4.455
E F1 4.455(,w)C 1.119(ill scan the options)-4.455 F 4.455(,l)-.3 G 1.12
(oad the dictionaries)-4.455 F 4.456(,a)-.3 G(nd)-4.456 E
(then do the spell c)102 328 Q(hec)-.084 E(king)-.084 E(.)-.3 E 539 353
72 353 DL F2(FILE *yyin;)78 364 Q/F3 12/Times-Roman@0 SF 1.577
(Is the \214le from which)252 364 R F2(yylex)4.577 E F3 1.577
(reads its input.)4.577 F 1.577(It must be)7.577 F 1.232
(opened before calling)252 378 R F2(yylex)4.232 E F3 1.232(to read an)
4.232 F 4.232<798c>-.18 G 4.233(le. If)-4.232 F 1.233(it is not)4.233 F
F2(stdin)252 392 Q F3 3.802(,t)C .801(hen it should be closed when)
-3.802 F F2(yylex)3.801 E F3 .801(is done with)3.801 F(the \214le.)252
406 Q 539 411 72 411 DL F2(char *yytext;)78 422 Q F3(Whene)252 422 Q
-.18(ve)-.3 G(r).18 E F2(yylex)7.361 E F3 4.361
(returns from scanning, this v)7.361 F(ariable)-.3 E(points into its b)
252 436 Q(uf)-.24 E(fer at the w)-.3 E(ord just recognized.)-.12 E 539
441 72 441 DL F2(int yy_flex_debug;)78 452 Q F3 .444(This is a deb)252
452 R .444(ug \215ag which puts)-.24 F F2(yylex)3.443 E F3 .443(into v)
3.443 F .443(erbose mode.)-.18 F -1.32(Yo)252 466 S 3(up)1.32 G
(robably don')-3 E 3(tn)-.216 G(eed it.)-3 E 539 471 72 471 DL F2
(int yylex \(void\);)78 482 Q F3 2.151(Scans the \214le)252 482 R F2
(yyin)5.151 E F3 2.151(and for each w)5.151 F 2.152
(ord found, returns a)-.12 F 3.391(non-zero inte)252 496 R 3.391
(ger code, lea)-.18 F(ving)-.24 E F2(yytext)6.391 E F3 3.391
(to point at the)6.391 F -.12(wo)252 510 S 3(rd. It).12 F
(returns 0 at end of \214le.)3 E 539 515 72 515 DL F2(int yylineno;)78
526 Q F3 .392(is used by)252 526 R F2(yylex)3.392 E F3 .392(to k)3.392 F
.393(eep track of the current line number)-.12 F(,)-.48 E 1.458
(which is useful to you in error reporting.)252 540 R 1.458
(It needs to be)7.458 F(reset to 1 before be)252 554 Q(ginning a scan.)
-.18 E 539 559 72 559 DL F2(void yylex_destroy \(void\);)78 570 Q F3
2.95(Cleans up the b)252 570 R(uf)-.24 E 2.95(fers allocated by)-.3 F F2
(yylex)5.95 E F3 2.95(and releases)5.95 F .236(their storage.)252 584 R
.236(This is called only when)6.236 F F2(yylex)3.236 E F3 .236
(is no longer)3.236 F(needed.)252 598 Q 539 603 72 603 DL 539 353 539
603 DL 72 353 72 603 DL 243 353 243 603 DL F0 -.216(Fi)184.95 618 S
(gure 2.).216 E F1(Interface to the function)6.888 E F2(yylex\(\))3.336
E F0 3.444(4. Implementation)72 664 R 3.444<8a4c>3.444 G
(oading the dictionaries)-3.444 E F1(Before implementing the hash sets)
72 684 Q 3.336(,t)-.3 G(he dictionaries must be loaded into memory)
-3.336 E(.)-1.5 E 2.664(\(i\) There)84.228 704 R 1.797
(are two dictionaries to be loaded.)5.133 F 1.797
(Look for the stub whic)8.469 F 5.134(hp)-.084 G 1.798(rints the)-5.134
F .29(message `)102 718 R .289(`Load dictionaries')-.3 F 3.625
('. Replace)-.3 F .289(this with a loop that loads the dictionar)3.625 F
(-)-.444 E(ies into the hash set.)102 732 Q 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(4o)8.076 G 3.336(f6)-3.336 G 2.664
(\(ii\) The)80.448 74 R(variables)5.728 E/F2 12/Courier-Elite-Bold@0 SF
(default_dictionary)5.728 E F1(and)5.728 E F2(user_dictionary)5.728 E F1
2.392(contain, respectively)5.728 F(,)-1.5 E .309
(the names of the default and user dictionaries)102 88 R 6.981(.A)-.3 G
.309(null value indicates that the)-3.336 F 1.756
(dictionary should not be loaded.)102 102 R 1.756
(Print an error message and stop if neither)8.428 F
(dictionary is present.)102 116 Q 2.664(\(iii\) Create)76.668 136 R(a)
7.161 E F2(hashset)7.161 E F1 3.825(and iterate over eac)7.161 F 7.161
(hd)-.084 G(ictionary)-7.161 E 10.497(.R)-1.5 G 3.824(ead eac)-10.497 F
7.16(hl)-.084 G 3.824(ine using)-7.16 F F2(fgets)102 150 Q F1 .801
(\(3c\) and c)B .802(homp off the trailing newline c)-.084 F(haracter)
-.084 E 7.474(.T)-1.2 G .802(hen call)-7.474 F F2(put_hashset)4.138 E F1
(with eac)102 164 Q 3.336(hw)-.084 G(ord.)-3.336 E 2.664(\(iv\) T)77.784
184 R .796(est your program.)-.66 F(Use)7.468 E F2(valgrind)4.132 E F1
.795(to \214nd problems with uninitialized pointers)4.132 F 3.292
(and other bad memory references)102 198 R 9.965(.I)-.3 G 3.293
(gnore any complaints it makes about)-9.965 F 2.592(memory leak.)102 212
R -.12(Fi)9.264 G 5.928(xa).12 G 2.592
(ny problems with segmentation faults or bus errors or)-5.928 F
(other problems reported by)102 226 Q F2(valgrind)3.336 E F1(and)3.336 E
F2(gdb)3.336 E F1(.)A F0 3.444(5. Implementation)72 252 R 3.444<8a54>
3.444 G(he hash set)-3.444 E F1 1.671(Allocation and freeing of the has\
h set has been implement, but not insertion and)72 272 R(searc)72 286 Q
(hing)-.084 E(.)-.3 E 2.664(\(i\) A)84.228 306 R(function)3.551 E F2
(strhash)3.551 E F1 .215(has been provided whic)3.551 F 3.551(ht)-.084 G
.215(akes a string and, using Horner')-3.551 F(s)-.3 E 1.728
(method, iterates over the string to compute)102 328.163 R/F3 8.4
/NewCenturySchlbk-Italic@0 SF(n)5.366 -11.241 M/F4 8.4/Symbol SF(-).008
E/F5 8.4/NewCenturySchlbk-Roman@0 SF(1)A F3(i)-13.313 21.887 M F4(=)A F5
(0)A/F6 17/Symbol SF(S)-11.16 -8.046 M/F7 12/NewCenturySchlbk-Italic@0
SF(c)4.946 -2.6 M F3(i).176 2.4 M F1 2.64<d736>3.24 -2.4 O(5599)-2.64 E
F3(n).302 -5.04 M F4(-).008 E F3(i).176 E F4(-)A F5(1)A F1(where)5.664
5.04 M F7(c)5.64 E F1 1.729(is the)5.065 F 1.416
(integer coded value for eac)102 349.935 R 4.752(hc)-.084 G 1.416
(haracter in the string)-4.836 F 8.088(.S)-.3 G 1.416
(ince over\215ow happens)-8.088 F .808(with longer words)102 363.935 R
4.144(,w)-.3 G 4.144(ea)-4.144 G .808
(void negative numbers by using the de\214ned data type)-4.264 F F2
(size_t)102 377.935 Q F1 5.138(,w)C(hic)-5.138 E 5.138(hi)-.084 G 5.138
(sd)-5.138 G 1.802(e\214ned to be an unsigned 64-bit integer)-5.138 F
8.474(.Y)-1.2 G 1.802(ou must dec)-9.674 F(lare)-.084 E
(any variable that is the result of the function)102 391.935 Q F2
(strhash)3.336 E F1(of this type)3.336 E 3.336(,a)-.216 G(nd not)-3.336
E F2(int)3.336 E F1(.)A 2.664(\(ii\) T)80.448 411.935 R 3.402(os)-.66 G
(earc)-3.402 E 3.402(ht)-.084 G .066
(he hash set, compute the hash code \214rst, then take it remainder the)
-3.402 F(size of the arra)102 425.935 Q 2(y:)-.12 G F2
(hash_index = strhash \(word\) % hashset->size;)132 439.935 Q F1 1.702
(Then use that index to c)102 453.935 R 1.702(hoose a particular hash c)
-.084 F 1.702(hain and perform a linear)-.084 F(searc)102 467.935 Q
3.979(hd)-.084 G .643(own that hash c)-3.979 F .643(hain using)-.084 F
F2(strcmp)3.979 E F1 .644(\(1\) until you \214nd equality or run off)B
(the end of the c)102 481.935 Q(hain.)-.084 E 2.664(\(iii\) Note)76.668
501.935 R .362(that searc)3.698 F .362(hing the c)-.084 F .362(hain is)
-.084 F/F8 12/NewCenturySchlbk-BoldItalic@0 SF(*not*)3.698 E F1(an)3.698
E F7(O)3.818 E F1(\().12 E F7(n).432 E F1 3.698(\)o).012 G .362
(peration, because we consider)-3.698 F F7(n)102.432 515.935 Q F1 .127
(to be the total number of elements in the has set.)3.475 F .127
(If there are)6.799 F F7(k)4.063 E F1 .128(hash c)3.463 F(hains)-.084 E
(,)-.3 E .088(then on the a)102 529.935 R(verage)-.12 E 3.424(,e)-.216 G
(ac)-3.424 E 3.424(hc)-.084 G .088(hain will be about)-3.508 F F7(O)
3.544 E F1(\().12 E F7(n).432 E F1(/).012 E F7(k).6 E F1 3.424(\)i)C
3.424(nl)-3.424 G 3.424(ength. If)-3.424 F(eac)3.424 E 3.424(hc)-.084 G
.088(hain is)-3.508 F(about the same length and)102 543.935 Q F7(n)3.768
E/F9 12/Symbol SF<a3>3.372 E F7(k)3.96 E F1(/2, this works out to be)A
F7(O)3.456 E F1(\(1\).).12 E 2.664(\(iv\) T)77.784 563.935 R 4.197(op)
-.66 G .862
(ut a new word into the hash set, \214rst hash it, and then searc)-4.197
F 4.198(he)-.084 G .862(xactly as)-4.198 F .563(you did for)102 577.935
R F2(has_hashset)3.899 E F1 7.235(.I)C 3.898(ft)-7.235 G .562
(he word is found and already there)-3.898 F(,)-.216 E F8 .562(do not)
3.898 F F1(insert)3.898 E -1.336(it ;)102 591.935 R 1.697(just return.)
8.369 F 1.698
(If you \214nd a null pointer before \214nding the word, store the)8.369
F 1.775(address of the word in the hash set by prepending it to the par\
ticular hash)102 605.935 R -.084(ch)102 619.935 S(ain.).084 E 2.664
(\(v\) At)81.564 639.935 R .462(any time if the)3.798 F F7(load)4.23 E
F1 -5.256 2.64(\3272 >)2.928 H F7(size).72 E F1 .463
(\(the number of words in the hash set is more)3.798 F 1.783
(than a half the size of the arra)102 653.935 R 1.782(y\), perform arra)
-.12 F 5.118(yd)-.12 G(oubling)-5.118 E 8.454(.A)-.3 G 1.782
(hash modulus)-3.336 F .677(works better when it is not a power of two)
102 668.966 R 4.014(,b)-.216 G .678(ut 2)-4.014 F F3(k).42 -5.04 M F9(-)
3.24 5.04 M F1 4.014(1w)2.64 G .678(orks \214ne)-4.014 F 4.014(,w)-.216
G(here)-4.014 E F7(k)4.614 E F1 .678(is a)4.014 F 2.433
(small positive integer)102 682.966 R 5.769(,w)-1.2 G(hic)-5.769 E 5.769
(hi)-.084 G 5.768(sw)-5.769 G 2.432(hy the initial size w)-5.768 F 2.432
(as 15.)-.216 F 3.752 -.66(To d)9.104 H 2.432(ouble the).66 F(arra)102
696.966 Q 4.707 -1.5(y, t)-.12 H 1.707(he new size should be 2)1.5 F F7
(n).432 E F9(+)2.652 E F1 5.043(1i)2.64 G 5.043(ft)-5.043 G 1.708
(he previous size w)-5.043 F(as)-.216 E F7(n)5.476 E F1 8.38(.T).012 G
1.708(his means)-8.38 F .681(that the sequence of sizes is 15, 31, 63, \
127, 255, 511, 1023, 2047, 4095, 8191,)102 710.966 R 2.625(16383, 32767\
, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303,)102 724.966
R(8388607, 16777215, etc)102 738.966 Q(.)-.216 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(5o)8.076 G 3.336(f6)-3.336 G 2.664
(\(vi\) The)77.784 74 R .393(algorithm for doubling the size of the has\
h table is given in pseudocode in)3.73 F -.12(Fi)102 88 S 3.004(gure 3.)
.12 F 3.004(Note that initial insertion does a)9.676 F/F2 12
/Courier-Elite-Bold@0 SF(strdup)6.34 E F1 3.004(\(3c\), but here)B 6.34
(,o)-.216 G 3.004(nly the)-6.34 F(pointer is copied.)102 102 Q 2.664
(\(vii\) Implement)74.004 122 R 1.827(the debugging requirements)5.163 F
8.499(.F)-.3 G 1.826(or the)-9.159 F F2(-x)5.162 E F1 1.826
(option given once)5.162 F 5.162(,p)-.216 G(rint)-5.162 E 1.463
(out a table like the one in F)102 136 R 1.463
(igure 4 with numbers actually gleaned from the)-.12 F(hash table)102
150 Q(.)-.216 E .888(\(viii\) If)72 170 R(the)5.128 E F2(-x)5.128 E F1
1.792(option is speci\214ed more than once)5.128 F 5.128(,f)-.216 G
1.791(ollow this information with an)-5.128 F .123
(actual dump of the hash set, printing out eac)102 184 R 3.459(he)-.084
G .123(ntry with subscript, hash code)-3.459 F(,)-.216 E .659
(and string)102 198 R 7.331(.F)-.3 G .658(or elements of the same c)
-7.991 F .658(hain, print out the subscript only once)-.084 F(.)-.216 E
(Print out only those entries that are not null.)102 212 Q -.66(Fo)6.672
G 3.336(re).66 G -1.336(xample :)-3.336 F F2 42(array[ 20])132 226 R 84
(=2)6 G(489332 "foobar")-84 E 66(=2)240 240 S(872521232 "testing")-66 E
42(array[ 24])132 254 R 84(=3)6 G(482567 "quux")-84 E F1 .779
(This indicates that c)102 268 R .779(hain 20 has `)-.084 F(`foobar')-.3
E 4.115('a)-.3 G .779(nd `)-4.115 F(`testing')-.3 E .779(', and that c)
-.3 F .779(hain 24 has)-.084 F -.3(``)102 282 S(quux').3 E 3.336('. Use)
-.3 F(the format string)3.336 E F2("array[%10d] = %20lu \\"%s\\"\\n")132
296 Q F1 .752(for the \214rst item on a c)102 310 R .751
(hain, and a similar format without the arra)-.084 F 4.087(yi)-.12 G
.751(ndex for)-4.087 F(the other items)102 324 Q 6.672(.N)-.3 G
(eatly align everything in vertical columns)-6.672 E(.)-.3 E 461.184 341
150.816 341 DL/F3 12/Times-Roman@0 SF(Allocate a ne)168.816 352 Q 3(wa)
-.3 G(rray and set all its pointers to null.)-3 E -.18(Fo)168.816 366 S
3(re).18 G(ach entry in the old array)-3 E(:)2 E
(While that entry is not null)186.816 380 Q(:)2 E
(Pop the hash node from the front of the list.)204.816 394 Q
(Recompute the hash number)204.816 408 Q(.)-.66 E(Compute its inde)
204.816 422 Q 3(xi)-.18 G 3(nt)-3 G(he ne)-3 E 3(wa)-.3 G(rray)-3 E(.)
-.78 E(Push the hash node onto that inde)204.816 436 Q 3(xo)-.18 G 3(ft)
-3 G(he ne)-3 E 3(wa)-.3 G(rray)-3 E(.)-.78 E(Free the old array)168.816
450 Q(.)-.78 E(Point the struct hash at the ne)168.816 464 Q 3(wa)-.3 G
(rray)-3 E(.)-.78 E 461.184 469 150.816 469 DL 461.184 341 461.184 469
DL 150.816 341 150.816 469 DL F0 -.216(Fi)187.992 484 S(gure 3.).216 E
F1(Arra)6.888 E 3.336(yd)-.12 G(oubling for a hash table)-3.336 E 399
507 213 507 DL/F4 12/Courier-Elite@0 SF(25143 words in the hash set)225
518 Q(65535 size of the hash array)225 532 Q(24802 chains of size)225
546 Q(1)12 E(100 chains of size)237 560 Q(2)12 E(40 chains of size)243
574 Q(3)12 E 6(3c)249 588 S(hains of size)-6 E(7)12 E 399 593 213 593 DL
399 507 399 593 DL 213 507 213 593 DL F0 -.216(Fi)208.044 608 S(gure 4.)
.216 E F1(Sample)6.888 E F2(-x)3.336 E F1(debug output)3.336 E F0 3.444
(6. Implementation)72 640 R 3.444<8a54>3.444 G(he \214nal stages)-3.444
E F1(At this point the program is almost complete)72 660 Q 6.672(.A)
-.216 G(few more things need to be done)-3.336 E(.)-.216 E 2.664
(\(i\) The)84.228 680 R(scanner)3.352 E F2(scanner.l)3.352 E F1 .016
(is written in the)3.352 F F2(flex)3.352 E F1 .016
(language and extracts words from)3.352 F 4.206<618c>102 694 S .87
(le that has been opened for the)-4.206 F F2(FILE*)4.206 E F1(variable)
4.206 E F2(yyin)4.205 E F1 7.541(.I)C 4.205(ti)-7.541 G 4.205(su)-4.205
G .869(sed to generate)-4.205 F 1.12(the C module)102 708 R F2
(scanner.c)4.456 E F1 4.456(,t)C 1.12(he contents of whic)-4.456 F 4.456
(hy)-.084 G 1.121(ou do not need to read.)-4.456 F -.3(Ju)7.793 G(st).3
E(treat it like any other library module)102 722 Q(.)-.216 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
.48 LW 540 54 72 54 DL 540 56 72 56 DL/F0 12/NewCenturySchlbk-Bold@0 SF
(CMPS-012B \203 W)72 50 Q
(inter 2016 \203 Program 5 \203 Hashing and Spell Checking)-.216 E/F1 12
/NewCenturySchlbk-Roman@0 SF 3.336(6o)8.076 G 3.336(f6)-3.336 G 2.664
(\(ii\) Implement)80.448 74 R 2.061(the function)5.397 F/F2 12
/Courier-Elite-Bold@0 SF(spellcheck)5.397 E F1 2.061(so that for eac)
5.397 F 5.397(hw)-.084 G 2.061(ord that is found, the)-5.397 F 2.246
(word is looked up in the dictionary)102 88 R 8.918(.I)-1.5 G 5.582(fi)
-8.918 G 5.582(ti)-5.582 G 5.583(sn)-5.582 G 2.247
(ot found, convert the word to)-5.583 F .917(lower case \()102 102 R F2
(tolower)A F1 .916(\(3c\)\), and then look it up again.)B .916
(This is done so that capi-)7.588 F 1.666(talized words)102 116 R 5.002
(,s)-.3 G(uc)-5.002 E 5.002(ha)-.084 G 5.002(sa)-5.002 G 5.002(tt)-5.002
G 1.666(he beginning of a sentence)-5.002 F 5.002(,w)-.216 G 1.666
(ill be found.)-5.002 F(Proper)8.339 E 2.885
(names in the dictionaries are given in upper case)102 130 R 6.221(,s)
-.216 G 6.221(ow)-6.221 G 2.885(ill not be found if)-6.221 F
(spelled in lower case)102 144 Q(.)-.216 E 2.664(\(iii\) Make)76.668 164
R .279(sure the exit status of the program is correct as de\214ned in t\
he man page)3.615 F 1.69(at the beginning of this document.)102 178 R
(Run)8.361 E F2(gdb)5.025 E F1(and)5.025 E F2(valgrind)5.025 E F1 1.689
(to verify that you)5.025 F(ha)102 192 Q(ve no memory problems)-.12 E(.)
-.3 E 2.664(\(iv\) If)77.784 212 R 1.394(you ha)4.73 F 1.394(ve time)
-.12 F 4.731(,e)-.216 G 1.395
(liminate memory leak by freeing up all of storage)-4.731 F 8.067(.C)
-.216 G(hec)-8.067 E(k)-.084 E(the errors \214le generated by)102 226 Q
F2(valgrind)3.336 E F1(.)A 2.664(\(v\) Use)81.564 246 R F2(checksource)
3.336 E F1(and)3.336 E F2(lint)3.336 E F1(to verify good coding style)
3.336 E 6.672(.R)-.216 G(ead)-6.672 E F2(Coding-style/)3.336 E F1(.)A F0
3.444(7. What)72 272 R(to submit)3.444 E F2(README)72 292 Q F1(,)A F2
(Makefile)5.616 E F1(,)A F2(debugf.h)5.616 E F1(,)A F2(hashset.h)5.616 E
F1(,)A F2(strhash.h)5.616 E F1(,)A F2(yyextern.h)5.616 E F1(,)A F2
(debugf.c)5.616 E F1(,)A F2(hashset.c)5.616 E F1(,)A F2(spellchk.c)72
306 Q F1(,)A F2(strhash.c)5.074 E F1(,)A F2(scanner.l)5.075 E F1 8.411
(.D)C 5.075(on)-8.411 G 1.739(ot submit the \214le)-5.075 F F2
(scanner.c)5.075 E F1 5.075(,w)C(hic)-5.075 E 5.075(hw)-.084 G 1.739
(ill be)-5.075 F 1.019(created when)72 320 R F2(gmake)4.355 E F1 1.019
(is run.)4.355 F 1.018(Do not submit any \214les that are built by)7.691
F F2(gmake)4.354 E F1 7.69(.V)C(erify)-8.59 E 1.359(that the)72 334 R F2
(submit)4.695 E F1 1.359(target in the)4.695 F F2(Makefile)4.695 E F1
1.359(is in fact correct and really does submit all)4.695 F .579(\214le\
s needed to build the target and does not submit any \214les that need \
to be gener)72 348 R(-)-.444 E 4.285(ated. If)72 362 R .949
(you are doing pair programming)4.285 F 4.285(,c)-.3 G .949
(arefully follow the instructions in)-4.285 F F2(/afs/)4.285 E
(cats.ucsc.edu/courses/cmps012b-wm/Syllabus/pair-programming/)72 376 Q
F1(.)A 0 Cg EP
%%Trailer
end
%%EOF
